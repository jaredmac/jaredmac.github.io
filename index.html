<!DOCTYPE html>
<html>
<head>
    <title>Droplet by Jared MacDonald</title>

    <!-- Fancy font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
    <script src="droplet.js"></script>
    <script src="intro.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.2/tsparticles.confetti.bundle.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body onload="new Intro('intro-board',500); initColors()" ;>
    <div id="container" class="container">

        <!-- Fixed header -->
        <div id="header">
            <span>Droplet <span id="titleNum"></span></span>
            <img src="dark_light.svg" onclick="toggleLightDark()">
            <img src="help.svg" onclick="toggleHelp()">
        </div>

        <!-- Disappearing intro screen -->
        <div id="intro">
            <div id="instructions">
                <p>Tap the squares to drop the letters to reveal four related words. 
                    Clear the board at any time by pressing the "Clear" button.
                </p>
                <div id="intro-board"></div>
                <p>See how quickly you can get it right!</p>
                <p>
                    <button class="button" onclick="startGame(true)">Daily</button>
                    <button class="button" onclick="startGame(false)">Random</button>
                </p>
            </div>
        </div>

        <!-- Help popup -->
        <div id="help">
            <span style="font-size: 20px;"><b>How to Play</b></span>

            <span class="close-btn" onclick="fadeOut('help')">&times;</span>

            <p>Reveal four words of a hidden theme by dropping
            the letters into their correct spots.
            For example, the following could be a completed board 
            for "Colors":</p>

            <div id="help-board"></div>
            
            <p>Drop letters to the <b>bottom of the board</b> into one of the
             highlighted spots. A correct letter will turn green and an incorrect
            letter will turn gray:</p>

            <div id="help-board-partial"></div>
            
            <p>It will take multiple attempts to solve.
            You can clear the board at any time by
            pressing the "Clear" button, but doing so adds 
            a 20 second penalty.</p>

            <p>See how quickly you can get it right!</p>
        </div>

        <!-- Game screen -->
        <div id="content">
            <p id="theme"></p>
            <div id="board"></div>

            <div id="belowBoard">
                <p id="timer">00:00</p>
                <button id="clearButton" onclick="tryAgain(20)" class="button">Clear</button>
            </div>

            <!-- Congratulations content -->
            <div id="congratulationsContent">
                <p>Congratulations!<br>You solved it in 
                    <span id="tries"></span>, with a time of <span id="timerResult"></span>. 
                    Today's average time was 00:45.
                </p>
                <button class="button" onclick="location.reload()">Play Again</button>
            </div>

            <!-- Try again content -->
            <div id="tryAgainContent">
                <p id="tryAgainMessage"></p>
                <button id="tryAgainButton" class="button">Try Again</button>
            </div>
        </div>
    </div> <!-- container -->
</body>

</html>